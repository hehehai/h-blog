import { useTheme } from "next-themes";
import NextLink from "next/link";
import HeaderButton from "./HeaderButton";

export default function Header() {
  const { resolvedTheme, setTheme } = useTheme();

  const handleToggleTheme = (e: MouseEvent) => {
    e.preventDefault()
    setTheme(resolvedTheme === "dark" ? "light" : "dark");
  };

  return (
    <div className="flex justify-between items-center py-12">
      <div className="text-2xl font-medium">
        <NextLink href="/">Hehehai.cn</NextLink>
      </div>
      <div className="flex items-center space-x-4">
        <HeaderButton label="Github" link="https://github.com/hehehai">
          <svg
            width="22"
            height="22"
            viewBox="0 0 22 22"
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M12 2C6.477 2 2 6.463 2 11.97C2 16.374 4.865 20.11 8.839 21.428C9.339 21.52 9.521 21.212 9.521 20.948C9.521 20.712 9.513 20.084 9.508 19.253C6.726 19.855 6.139 17.916 6.139 17.916C5.685 16.765 5.029 16.458 5.029 16.458C4.121 15.84 5.098 15.852 5.098 15.852C6.101 15.922 6.629 16.879 6.629 16.879C7.521 18.403 8.97 17.963 9.539 17.707C9.631 17.064 9.889 16.624 10.175 16.375C7.955 16.124 5.62 15.268 5.62 11.448C5.62 10.36 6.01 9.469 6.649 8.773C6.546 8.521 6.203 7.507 6.747 6.135C6.747 6.135 7.587 5.867 9.497 7.157C10.3129 6.93501 11.1545 6.8217 12 6.82C12.85 6.824 13.705 6.934 14.504 7.156C16.413 5.866 17.251 6.134 17.251 6.134C17.797 7.506 17.453 8.52 17.351 8.772C17.991 9.468 18.379 10.359 18.379 11.447C18.379 15.277 16.04 16.12 13.813 16.367C14.172 16.674 14.491 17.282 14.491 18.213C14.491 19.545 14.479 20.62 14.479 20.947C14.479 21.214 14.659 21.524 15.167 21.427C19.137 20.107 22 16.373 22 11.969C22 6.463 17.522 2 12 2Z"
              fill="black"
            />
          </svg>
        </HeaderButton>
        <HeaderButton label="Twitter" link="https://twitter.com/riverhohai">
          <svg
            width="22"
            height="22"
            viewBox="0 0 22 22"
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M7.548 21.9012C16.6044 21.9012 21.558 14.3976 21.558 7.8912C21.558 7.6776 21.558 7.4652 21.5436 7.2552C22.5074 6.55744 23.3392 5.69354 24 4.704C23.1013 5.10241 22.1479 5.36372 21.1716 5.4792C22.1996 4.86367 22.9689 3.89562 23.3364 2.7552C22.37 3.32867 21.3128 3.73288 20.2104 3.9504C19.4681 3.16052 18.486 2.6374 17.4164 2.46205C16.3467 2.28669 15.249 2.46888 14.2933 2.98041C13.3377 3.49193 12.5773 4.30425 12.13 5.2916C11.6826 6.27894 11.5732 7.38622 11.8188 8.442C9.86111 8.34389 7.94592 7.83519 6.19757 6.94893C4.44923 6.06266 2.90679 4.81863 1.6704 3.2976C1.04078 4.38145 0.847907 5.66451 1.13104 6.88556C1.41418 8.10661 2.15204 9.17386 3.1944 9.87C2.41112 9.84728 1.64478 9.63656 0.96 9.2556V9.318C0.960467 10.4548 1.35407 11.5564 2.07408 12.436C2.79408 13.3157 3.79616 13.9193 4.9104 14.1444C4.18537 14.3421 3.42467 14.3708 2.6868 14.2284C3.00139 15.207 3.61401 16.0627 4.43895 16.6759C5.26389 17.2892 6.25989 17.6292 7.2876 17.6484C6.26654 18.4507 5.09734 19.0438 3.84687 19.3938C2.5964 19.7439 1.28919 19.844 0 19.6884C2.2519 21.1337 4.87222 21.9002 7.548 21.8964"
              fill="black"
            />
          </svg>
        </HeaderButton>
        <HeaderButton onClick={handleToggleTheme}>
          {resolvedTheme === "dark" ? (
            <svg width="22" height="22" viewBox="0 0 22 22" fill="currentColor">
              <path d="M12 17q-2.075 0-3.537-1.463Q7 14.075 7 12t1.463-3.538Q9.925 7 12 7t3.538 1.462Q17 9.925 17 12q0 2.075-1.462 3.537Q14.075 17 12 17ZM2 13q-.425 0-.712-.288Q1 12.425 1 12t.288-.713Q1.575 11 2 11h2q.425 0 .713.287Q5 11.575 5 12t-.287.712Q4.425 13 4 13Zm18 0q-.425 0-.712-.288Q19 12.425 19 12t.288-.713Q19.575 11 20 11h2q.425 0 .712.287q.288.288.288.713t-.288.712Q22.425 13 22 13Zm-8-8q-.425 0-.712-.288Q11 4.425 11 4V2q0-.425.288-.713Q11.575 1 12 1t.713.287Q13 1.575 13 2v2q0 .425-.287.712Q12.425 5 12 5Zm0 18q-.425 0-.712-.288Q11 22.425 11 22v-2q0-.425.288-.712Q11.575 19 12 19t.713.288Q13 19.575 13 20v2q0 .425-.287.712Q12.425 23 12 23ZM5.65 7.05L4.575 6q-.3-.275-.288-.7q.013-.425.288-.725q.3-.3.725-.3t.7.3L7.05 5.65q.275.3.275.7q0 .4-.275.7q-.275.3-.687.287q-.413-.012-.713-.287ZM18 19.425l-1.05-1.075q-.275-.3-.275-.712q0-.413.275-.688q.275-.3.688-.287q.412.012.712.287L19.425 18q.3.275.288.7q-.013.425-.288.725q-.3.3-.725.3t-.7-.3ZM16.95 7.05q-.3-.275-.287-.688q.012-.412.287-.712L18 4.575q.275-.3.7-.288q.425.013.725.288q.3.3.3.725t-.3.7L18.35 7.05q-.3.275-.7.275q-.4 0-.7-.275ZM4.575 19.425q-.3-.3-.3-.725t.3-.7l1.075-1.05q.3-.275.713-.275q.412 0 .687.275q.3.275.288.688q-.013.412-.288.712L6 19.425q-.275.3-.7.287q-.425-.012-.725-.287Z"></path>
            </svg>
          ) : (
            <svg width="22" height="22" viewBox="0 0 22 22" fill="currentColor">
              <path d="M12 21q-3.75 0-6.375-2.625T3 12q0-3.75 2.625-6.375T12 3q.35 0 .688.025q.337.025.662.075q-1.025.725-1.637 1.887Q11.1 6.15 11.1 7.5q0 2.25 1.575 3.825Q14.25 12.9 16.5 12.9q1.375 0 2.525-.613q1.15-.612 1.875-1.637q.05.325.075.662Q21 11.65 21 12q0 3.75-2.625 6.375T12 21Z" />
            </svg>
          )}
        </HeaderButton>
      </div>
    </div>
  );
}
